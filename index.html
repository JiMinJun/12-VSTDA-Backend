<!DOCTYPE html>
<html lang="en" >
<head>
	<title>Simple ToDo App</title>
	<link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="bower_components/angular-xeditable/dist/css/xeditable.css" >
	<link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Cabin+Sketch:700,400'>
	<link rel="stylesheet" href="bower_components/toastr/toastr.css" />
	<link rel="stylesheet" type="text/css" href="main.css">
</head>

<body ng-app="VSTDApp" ng-controller="VSTDACtrl as vm">
	<div class="container">
		<div class="jumbotron">
			<h1 id="title">Very Simple ToDo App</h1>
		</div>
	   
	</div>
	<div class="row" >
		<div class="col-md-6 col-md-offset-3" id="todolist">
			<div class="panel panel-default" >
				<div class="panel-heading">
					<h3>ToDo List:</h3>
					<span>
						<label for="orderbutttons">Order by:  </label>
						<div class="btn-group" role="group" id="orderbuttons">
						    <button type="button" class="btn btn-primary" ng-click="vm.sortToDo('priority')">Highest Priority</button>
						    <button type="button" class="btn btn-primary" ng-click="vm.sortToDo('-priority')">Lowest Priority</button>
						    <button type="button" class="btn btn-primary" ng-click="vm.sortToDo('description')"> ABC</button>
						</div>
					</span>
				</div>
				<div class="panel-body" >
					<table id="toDoTable" class="table table-bordered" click-outside="vm.closeTable()">
						<thead>
							
						</thead>
						<tbody ui-sortable ng-model="vm.toDoList">
							
							<tr ng-repeat="todo in vm.toDoList track by $index" ng-class="{urgent: todo.priority == 1, high: todo.priority == 2, moderate: todo.priority == 3, low: todo.priority == 4, complete: todo.priority == 9 }">
								<td ng-click="vm.closeAllOtherItems(todo.vstdaEntryId)">
									<!-- <input type="checkbox" class="css-checkbox" ng-click="vm.completedItem(todo)">	 -->							 
									<label for "editing-label" ng-click="todo.isBeingEdited = true"> {{todo.description}} </label>
									
									<div ng-show="todo.isBeingEdited" class="editing">
										<input class="editing-label" type="text" ng-model="todo.updatedDescription">
										<select ng-model="todo.updatedPriority">
											<option value="1">1. Urgent</option>
											<option value="2">2. High</option>
											<option value="3">3. Moderate</option>
											<option value="4">4. Low</option>
										</select>
			<!-- 							delete todo item -->
										<button class="btn btn-primary pull-right" ng-click="vm.deleteToDo(todo, $index)">Delete</button>

										<button type="btn" class='btn btn-primary pull-right' ng-click="vm.saveToDo(todo)" >Save</button>
									</div>				
								</td>
							</tr>
						</tbody>
					</table>

					<div class= "panel-footer">
						<form class="form-inline">
						    <div class="form-group">
						        <label for="newToDoDescription">New ToDo Item: </label>
						        <input type="text" ng-model="vm.newToDo.description" id="newToDoDescription">
						    </div>
						    <div class="form-group">
						        <label for"newToDoPriority">Priority: </label>
						        <select ng-model="vm.newToDo.priority" id="newToDoPriority">
								    <option value="1">1. Urgent</option>
								    <option value="2">2. High</option>
								    <option value="3">3. Moderate</option>
								    <option value="4">4. Low</option>
							    </select>
						    </div>
						    <button type="button" class="btn btn-primary" ng-click="vm.addToDo(vm.newToDo)">Add ToDo</button>
						</form>						
					</div>
				</div>
			</div>
		</div>
	</div>

<!-- 	Display todolist -->
	
	<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
	<script type="text/javascript" src="bower_components/jquery-ui/jquery-ui.js"></script>
	<script type="text/javascript" src="bower_components/angular/angular.js"></script>	
	<script type="text/javascript" src="bower_components/angular-ui-sortable/sortable.js"></script>
	<script type="text/javascript" src="bower_components/angular-xeditable/dist/js/xeditable.js"></script>
	<script type="text/javascript" src="bower_components/angular-click-outside/clickoutside.directive.js"></script>
	<script type="text/javascript" src="bower_components/moment/moment.js"></script>
	<script type="text/javascript" src="bower_components/toastr/toastr.js"></script>
	<script type="text/javascript" src="app/app.js"></script>
	<script type="text/javascript" src="app/VSTDA.ctrl.js"></script>
	<script type="text/javascript" src="app/VSTDA.factory.js"></script>
</body>
</html>